# Prism Code å®Ÿè£…è©³ç´°

## 1. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 1.1 å…¨ä½“æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VSCode Extension                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Extension Host (Node.js)                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚   Command    â”‚  â”‚ WebView Panelâ”‚  â”‚  Language   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   Handler    â”‚  â”‚   Manager    â”‚  â”‚   Client    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                  â”‚                  â”‚            â”‚
â”‚            â–¼                  â–¼                  â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  Core Engine (ç–çµåˆ)                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚         Parser Interface (æŠ½è±¡å±¤)                  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚TypeScriptâ”‚  â”‚   Java   â”‚  â”‚  Python  â”‚ (å°†æ¥) â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Parser  â”‚  â”‚  Parser  â”‚  â”‚  Parser  â”‚        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚          â”‚             â”‚             â”‚                  â”‚ â”‚
â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ â”‚
â”‚  â”‚                       â–¼                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚      IR (Intermediate Representation)            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - è¨€èªéä¾å­˜ã®å…±é€šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ                    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - ãƒãƒ¼ãƒ‰ã€ã‚¨ãƒƒã‚¸ã€åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼        â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                       â–¼                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚    Visualization Engine                          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - IRã‚’ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆè¦ç´ ã«å¤‰æ›                   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ                          â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                            â”‚                                  â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚            â–¼                               â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  WebView (React) â”‚           â”‚   Data Models    â”‚        â”‚
â”‚  â”‚  - React Flow    â”‚           â”‚   - AST Cache    â”‚        â”‚
â”‚  â”‚  - ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ â”‚           â”‚   - IR Cache     â”‚        â”‚
â”‚  â”‚    ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°   â”‚           â”‚                  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ ï¼ˆç–çµåˆè¨­è¨ˆï¼‰

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | è²¬å‹™ | æŠ€è¡“ |
|---------|------|------|
| **Presentation** | UIè¡¨ç¤ºã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ | React, React Flow, VSCode WebView |
| **Application** | ã‚³ãƒãƒ³ãƒ‰å‡¦ç†ã€çŠ¶æ…‹ç®¡ç† | VSCode Extension API |
| **Domain** | ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€å¤‰æ›å‡¦ç† | TypeScript (Pure Logic) |
| **Infrastructure** | ãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…ã€ãƒ•ã‚¡ã‚¤ãƒ«I/O | ts-morph, Node.js APIs |

---

## 2. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆPhase 1: èª­ã¿å–ã‚Šå°‚ç”¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TypeScript   â”‚
â”‚ Source Code  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Parser Interface    â”‚  â† æŠ½è±¡å±¤ï¼ˆå°†æ¥çš„ã«ä»–è¨€èªå¯¾å¿œï¼‰
â”‚  parse(code): AST    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TypeScript Parser   â”‚  â† ts-morphä½¿ç”¨
â”‚  (Concrete Impl)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    AST (æŠ½è±¡æ§‹æ–‡æœ¨)   â”‚
â”‚  - FunctionDecl      â”‚
â”‚  - IfStatement       â”‚
â”‚  - ForStatementç­‰    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   IR Transformer     â”‚  â† è¨€èªéä¾å­˜ã®ä¸­é–“è¡¨ç¾ã¸å¤‰æ›
â”‚   transform(ast): IR â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   IR (JSONå½¢å¼)      â”‚
â”‚  {                   â”‚
â”‚    nodes: [...],     â”‚
â”‚    edges: [...],     â”‚
â”‚    metadata: {...}   â”‚
â”‚  }                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flow Generator      â”‚  â† React Flowå½¢å¼ã«å¤‰æ›
â”‚  generate(ir): Flow  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Flow Data    â”‚
â”‚  {                   â”‚
â”‚    nodes: [...],     â”‚
â”‚    edges: [...]      â”‚
â”‚  }                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WebView Render     â”‚
â”‚   (ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º)|
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 3.1 Parser Interfaceï¼ˆç–çµåˆã®ãŸã‚ã®æŠ½è±¡å±¤ï¼‰

```typescript
// src/core/parser/IParser.ts
export interface IParser {
  /**
   * ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è§£æã—ã¦ASTã‚’è¿”ã™
   */
  parse(code: string, filePath?: string): AST;

  /**
   * ã‚µãƒãƒ¼ãƒˆã™ã‚‹è¨€èª
   */
  getSupportedLanguage(): string;

  /**
   * ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã§ãƒ‘ãƒ¼ã‚µãƒ¼ã‚’è­˜åˆ¥
   */
  getSupportedExtensions(): string[];
}

// src/core/parser/AST.ts
export interface AST {
  type: 'Program';
  body: ASTNode[];
  sourceFile?: string;
}

export type ASTNode =
  | FunctionNode
  | ClassNode
  | IfStatementNode
  | ForStatementNode
  | WhileStatementNode
  | VariableDeclarationNode
  | ReturnStatementNode
  | ExpressionNode;

export interface FunctionNode {
  type: 'FunctionDeclaration';
  name: string;
  parameters: Parameter[];
  body: ASTNode[];
  returnType?: string;
  location: SourceLocation;
}

export interface IfStatementNode {
  type: 'IfStatement';
  condition: ExpressionNode;
  thenBranch: ASTNode[];
  elseBranch?: ASTNode[];
  location: SourceLocation;
}

export interface SourceLocation {
  start: { line: number; column: number };
  end: { line: number; column: number };
}

// ... ä»–ã®ãƒãƒ¼ãƒ‰å‹
```

### 3.2 TypeScript Parserå®Ÿè£…

```typescript
// src/parsers/typescript/TypeScriptParser.ts
import { Project, SourceFile } from 'ts-morph';
import { IParser, AST, ASTNode } from '../../core/parser/IParser';

export class TypeScriptParser implements IParser {
  private project: Project;

  constructor() {
    this.project = new Project({
      compilerOptions: {
        target: ts.ScriptTarget.Latest,
      },
    });
  }

  parse(code: string, filePath?: string): AST {
    const sourceFile = this.project.createSourceFile(
      filePath || 'temp.ts',
      code
    );

    return {
      type: 'Program',
      body: this.parseSourceFile(sourceFile),
      sourceFile: filePath,
    };
  }

  getSupportedLanguage(): string {
    return 'TypeScript';
  }

  getSupportedExtensions(): string[] {
    return ['.ts', '.tsx'];
  }

  private parseSourceFile(sourceFile: SourceFile): ASTNode[] {
    const nodes: ASTNode[] = [];

    // é–¢æ•°å®£è¨€ã®è§£æ
    sourceFile.getFunctions().forEach((fn) => {
      nodes.push(this.parseFunctionDeclaration(fn));
    });

    // ã‚¯ãƒ©ã‚¹ã®è§£æ
    sourceFile.getClasses().forEach((cls) => {
      nodes.push(this.parseClassDeclaration(cls));
    });

    return nodes;
  }

  private parseFunctionDeclaration(fn: any): FunctionNode {
    // å®Ÿè£…è©³ç´°
  }

  // ... ä»–ã®ãƒ‘ãƒ¼ã‚¹å‡¦ç†
}
```

### 3.3 IRï¼ˆä¸­é–“è¡¨ç¾ï¼‰è¨­è¨ˆ

```typescript
// src/core/ir/IR.ts
/**
 * è¨€èªéä¾å­˜ã®ä¸­é–“è¡¨ç¾
 * ã™ã¹ã¦ã®è¨€èªã‹ã‚‰ã“ã®å½¢å¼ã«å¤‰æ›ã•ã‚Œã‚‹
 */
export interface IR {
  version: string;
  metadata: IRMetadata;
  nodes: IRNode[];
  edges: IREdge[];
}

export interface IRMetadata {
  sourceLanguage: string;
  sourceFile: string;
  timestamp: number;
}

export type IRNode =
  | IRFunctionNode
  | IRControlFlowNode
  | IRDataNode
  | IRStartNode
  | IREndNode;

export interface IRFunctionNode {
  id: string;
  type: 'function';
  name: string;
  parameters: string[];
  returnType?: string;
  body: string[];  // å­ãƒãƒ¼ãƒ‰ã®ID
  location: SourceLocation;
}

export interface IRControlFlowNode {
  id: string;
  type: 'if' | 'for' | 'while' | 'switch';
  condition?: string;
  branches: {
    [key: string]: string[];  // ãƒ–ãƒ©ãƒ³ãƒå â†’ ãƒãƒ¼ãƒ‰ID[]
  };
  location: SourceLocation;
}

export interface IRDataNode {
  id: string;
  type: 'variable' | 'constant' | 'parameter';
  name: string;
  dataType?: string;
  initialValue?: string;
  location: SourceLocation;
}

export interface IRStartNode {
  id: string;
  type: 'start';
  label: string;
}

export interface IREndNode {
  id: string;
  type: 'end';
  label: string;
}

export interface IREdge {
  id: string;
  source: string;  // ãƒãƒ¼ãƒ‰ID
  target: string;  // ãƒãƒ¼ãƒ‰ID
  label?: string;  // "true", "false", "loop" ç­‰
  type: 'control' | 'data';
}
```

### 3.4 IR Transformer

```typescript
// src/core/transformer/IRTransformer.ts
import { AST } from '../parser/IParser';
import { IR, IRNode, IREdge } from '../ir/IR';

export class IRTransformer {
  private nodeIdCounter = 0;
  private edgeIdCounter = 0;

  transform(ast: AST, metadata: { language: string; file: string }): IR {
    const nodes: IRNode[] = [];
    const edges: IREdge[] = [];

    ast.body.forEach((astNode) => {
      this.transformNode(astNode, nodes, edges);
    });

    return {
      version: '1.0.0',
      metadata: {
        sourceLanguage: metadata.language,
        sourceFile: metadata.file,
        timestamp: Date.now(),
      },
      nodes,
      edges,
    };
  }

  private transformNode(
    astNode: ASTNode,
    nodes: IRNode[],
    edges: IREdge[]
  ): string {
    // ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦å¤‰æ›
    switch (astNode.type) {
      case 'FunctionDeclaration':
        return this.transformFunction(astNode, nodes, edges);
      case 'IfStatement':
        return this.transformIf(astNode, nodes, edges);
      // ... ä»–ã®ã‚±ãƒ¼ã‚¹
      default:
        throw new Error(`Unknown node type: ${astNode.type}`);
    }
  }

  private transformFunction(
    fn: FunctionNode,
    nodes: IRNode[],
    edges: IREdge[]
  ): string {
    const nodeId = this.generateNodeId();

    // é–‹å§‹ãƒãƒ¼ãƒ‰
    const startId = this.generateNodeId();
    nodes.push({
      id: startId,
      type: 'start',
      label: `Start: ${fn.name}`,
    });

    // é–¢æ•°æœ¬ä½“ã®å‡¦ç†
    const bodyIds = fn.body.map((stmt) =>
      this.transformNode(stmt, nodes, edges)
    );

    // çµ‚äº†ãƒãƒ¼ãƒ‰
    const endId = this.generateNodeId();
    nodes.push({
      id: endId,
      type: 'end',
      label: `End: ${fn.name}`,
    });

    // ã‚¨ãƒƒã‚¸ã®æ¥ç¶š
    edges.push({
      id: this.generateEdgeId(),
      source: startId,
      target: bodyIds[0] || endId,
      type: 'control',
    });

    // bodyé–“ã®æ¥ç¶š
    for (let i = 0; i < bodyIds.length - 1; i++) {
      edges.push({
        id: this.generateEdgeId(),
        source: bodyIds[i],
        target: bodyIds[i + 1],
        type: 'control',
      });
    }

    if (bodyIds.length > 0) {
      edges.push({
        id: this.generateEdgeId(),
        source: bodyIds[bodyIds.length - 1],
        target: endId,
        type: 'control',
      });
    }

    return startId;
  }

  private transformIf(
    ifNode: IfStatementNode,
    nodes: IRNode[],
    edges: IREdge[]
  ): string {
    const nodeId = this.generateNodeId();

    const thenIds = ifNode.thenBranch.map((stmt) =>
      this.transformNode(stmt, nodes, edges)
    );

    const elseIds = ifNode.elseBranch
      ? ifNode.elseBranch.map((stmt) => this.transformNode(stmt, nodes, edges))
      : [];

    nodes.push({
      id: nodeId,
      type: 'if',
      condition: this.expressionToString(ifNode.condition),
      branches: {
        then: thenIds,
        else: elseIds,
      },
      location: ifNode.location,
    });

    return nodeId;
  }

  private generateNodeId(): string {
    return `node_${this.nodeIdCounter++}`;
  }

  private generateEdgeId(): string {
    return `edge_${this.edgeIdCounter++}`;
  }
}
```

### 3.5 Flow Generatorï¼ˆReact Flowå½¢å¼ã¸ã®å¤‰æ›ï¼‰

```typescript
// src/core/visualization/FlowGenerator.ts
import { IR, IRNode, IREdge } from '../ir/IR';
import { Node, Edge } from 'reactflow';

export class FlowGenerator {
  generate(ir: IR): { nodes: Node[]; edges: Edge[] } {
    const nodes: Node[] = ir.nodes.map((irNode) =>
      this.convertToReactFlowNode(irNode)
    );

    const edges: Edge[] = ir.edges.map((irEdge) =>
      this.convertToReactFlowEdge(irEdge)
    );

    return { nodes, edges };
  }

  private convertToReactFlowNode(irNode: IRNode): Node {
    const baseNode = {
      id: irNode.id,
      position: { x: 0, y: 0 },  // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§å¾Œã§è¨ˆç®—
      data: {},
    };

    switch (irNode.type) {
      case 'function':
        return {
          ...baseNode,
          type: 'custom',
          data: {
            label: irNode.name,
            nodeType: 'function',
            parameters: irNode.parameters,
            returnType: irNode.returnType,
          },
        };

      case 'if':
        return {
          ...baseNode,
          type: 'custom',
          data: {
            label: irNode.condition || 'if',
            nodeType: 'decision',
            condition: irNode.condition,
          },
        };

      case 'start':
        return {
          ...baseNode,
          type: 'input',
          data: {
            label: irNode.label,
          },
        };

      case 'end':
        return {
          ...baseNode,
          type: 'output',
          data: {
            label: irNode.label,
          },
        };

      default:
        return baseNode;
    }
  }

  private convertToReactFlowEdge(irEdge: IREdge): Edge {
    return {
      id: irEdge.id,
      source: irEdge.source,
      target: irEdge.target,
      label: irEdge.label,
      type: irEdge.type === 'control' ? 'smoothstep' : 'default',
    };
  }
}
```

---

## 4. VSCodeæ‹¡å¼µæ©Ÿèƒ½ã®æ§‹é€ 

### 4.1 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
Prism Code/
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .vscode/
â”‚   â””â”€â”€ launch.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ extension.ts                 # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ core/                        # ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆè¨€èªéä¾å­˜ï¼‰
â”‚   â”‚   â”œâ”€â”€ parser/
â”‚   â”‚   â”‚   â”œâ”€â”€ IParser.ts           # ãƒ‘ãƒ¼ã‚µãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â”‚   â””â”€â”€ AST.ts               # ASTå‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ ir/
â”‚   â”‚   â”‚   â””â”€â”€ IR.ts                # ä¸­é–“è¡¨ç¾ã®å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ transformer/
â”‚   â”‚   â”‚   â””â”€â”€ IRTransformer.ts     # AST â†’ IR å¤‰æ›
â”‚   â”‚   â””â”€â”€ visualization/
â”‚   â”‚       â”œâ”€â”€ FlowGenerator.ts     # IR â†’ ReactFlowå¤‰æ›
â”‚   â”‚       â””â”€â”€ LayoutEngine.ts      # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨ˆç®—
â”‚   â”œâ”€â”€ parsers/                     # è¨€èªåˆ¥ãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…
â”‚   â”‚   â”œâ”€â”€ typescript/
â”‚   â”‚   â”‚   â””â”€â”€ TypeScriptParser.ts
â”‚   â”‚   â”œâ”€â”€ java/                    # å°†æ¥çš„ã«è¿½åŠ 
â”‚   â”‚   â””â”€â”€ ParserFactory.ts         # ãƒ‘ãƒ¼ã‚µãƒ¼ã®é¸æŠ
â”‚   â”œâ”€â”€ commands/                    # VSCodeã‚³ãƒãƒ³ãƒ‰
â”‚   â”‚   â””â”€â”€ visualizeCommand.ts
â”‚   â”œâ”€â”€ webview/                     # WebViewé–¢é€£
â”‚   â”‚   â”œâ”€â”€ WebViewProvider.ts
â”‚   â”‚   â””â”€â”€ messaging.ts
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ logger.ts
â”œâ”€â”€ webview-ui/                      # React UI
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ FlowChart.tsx        # React Flowè¡¨ç¤º
â”‚   â”‚   â”‚   â””â”€â”€ CustomNodes/         # ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰
â”‚   â”‚   â”‚       â”œâ”€â”€ FunctionNode.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ IfNode.tsx
â”‚   â”‚   â”‚       â””â”€â”€ LoopNode.tsx
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”‚       â””â”€â”€ useFlowData.ts
â”‚   â””â”€â”€ vite.config.ts
â””â”€â”€ media/                           # ã‚¢ã‚¤ã‚³ãƒ³ç­‰
```

### 4.2 Extension Entry Point

```typescript
// src/extension.ts
import * as vscode from 'vscode';
import { VisualizeCommand } from './commands/visualizeCommand';
import { WebViewProvider } from './webview/WebViewProvider';

export function activate(context: vscode.ExtensionContext) {
  console.log('Prism Code is now active!');

  // WebView Provider ã®ç™»éŒ²
  const provider = new WebViewProvider(context.extensionUri);
  context.subscriptions.push(
    vscode.window.registerWebviewViewProvider(
      'prismcode.flowView',
      provider
    )
  );

  // ã‚³ãƒãƒ³ãƒ‰ã®ç™»éŒ²
  const visualizeCommand = new VisualizeCommand(provider);
  context.subscriptions.push(
    vscode.commands.registerCommand(
      'prismcode.visualize',
      () => visualizeCommand.execute()
    )
  );
}

export function deactivate() {}
```

### 4.3 Visualize Command

```typescript
// src/commands/visualizeCommand.ts
import * as vscode from 'vscode';
import { ParserFactory } from '../parsers/ParserFactory';
import { IRTransformer } from '../core/transformer/IRTransformer';
import { FlowGenerator } from '../core/visualization/FlowGenerator';
import { WebViewProvider } from '../webview/WebViewProvider';

export class VisualizeCommand {
  constructor(private webviewProvider: WebViewProvider) {}

  async execute() {
    const editor = vscode.window.activeTextEditor;
    if (!editor) {
      vscode.window.showErrorMessage('ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¨ãƒ‡ã‚£ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“');
      return;
    }

    const document = editor.document;
    const code = document.getText();
    const filePath = document.fileName;

    try {
      // 1. ãƒ‘ãƒ¼ã‚µãƒ¼ã‚’å–å¾—ï¼ˆæ‹¡å¼µå­ã‹ã‚‰è‡ªå‹•åˆ¤å®šï¼‰
      const parser = ParserFactory.getParser(filePath);

      // 2. ã‚³ãƒ¼ãƒ‰ã‚’è§£æã—ã¦ASTã‚’ç”Ÿæˆ
      const ast = parser.parse(code, filePath);

      // 3. ASTã‚’IRã«å¤‰æ›
      const transformer = new IRTransformer();
      const ir = transformer.transform(ast, {
        language: parser.getSupportedLanguage(),
        file: filePath,
      });

      // 4. IRã‚’React Flowå½¢å¼ã«å¤‰æ›
      const flowGenerator = new FlowGenerator();
      const flowData = flowGenerator.generate(ir);

      // 5. WebViewã«é€ä¿¡
      this.webviewProvider.sendFlowData(flowData);

      vscode.window.showInformationMessage('ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¾ã—ãŸ');
    } catch (error) {
      vscode.window.showErrorMessage(
        `ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`
      );
    }
  }
}
```

### 4.4 Parser Factoryï¼ˆç–çµåˆã®ãŸã‚ã®å·¥å ´ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

```typescript
// src/parsers/ParserFactory.ts
import { IParser } from '../core/parser/IParser';
import { TypeScriptParser } from './typescript/TypeScriptParser';
// import { JavaParser } from './java/JavaParser';  // å°†æ¥çš„ã«è¿½åŠ 

export class ParserFactory {
  private static parsers: IParser[] = [
    new TypeScriptParser(),
    // new JavaParser(),  // å°†æ¥çš„ã«è¿½åŠ 
  ];

  static getParser(filePath: string): IParser {
    const extension = filePath.substring(filePath.lastIndexOf('.'));

    for (const parser of this.parsers) {
      if (parser.getSupportedExtensions().includes(extension)) {
        return parser;
      }
    }

    throw new Error(`ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™: ${extension}`);
  }

  static registerParser(parser: IParser): void {
    this.parsers.push(parser);
  }
}
```

---

## 5. WebView (React UI)

### 5.1 FlowChart Component

```typescript
// webview-ui/src/components/FlowChart.tsx
import React, { useCallback } from 'react';
import ReactFlow, {
  Node,
  Edge,
  Controls,
  Background,
  MiniMap,
  useNodesState,
  useEdgesState,
} from 'reactflow';
import 'reactflow/dist/style.css';

import FunctionNode from './CustomNodes/FunctionNode';
import IfNode from './CustomNodes/IfNode';

const nodeTypes = {
  function: FunctionNode,
  decision: IfNode,
};

interface FlowChartProps {
  initialNodes: Node[];
  initialEdges: Edge[];
}

export const FlowChart: React.FC<FlowChartProps> = ({
  initialNodes,
  initialEdges,
}) => {
  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);
  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);

  const onNodeClick = useCallback((event: React.MouseEvent, node: Node) => {
    console.log('Node clicked:', node);
    // å°†æ¥çš„ã«ã¯ã‚³ãƒ¼ãƒ‰ã¸ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ 
  }, []);

  return (
    <div style={{ width: '100%', height: '100vh' }}>
      <ReactFlow
        nodes={nodes}
        edges={edges}
        onNodesChange={onNodesChange}
        onEdgesChange={onEdgesChange}
        onNodeClick={onNodeClick}
        nodeTypes={nodeTypes}
        fitView
      >
        <Controls />
        <MiniMap />
        <Background variant="dots" gap={12} size={1} />
      </ReactFlow>
    </div>
  );
};
```

### 5.2 Custom Node Example

```typescript
// webview-ui/src/components/CustomNodes/FunctionNode.tsx
import React from 'react';
import { Handle, Position } from 'reactflow';

interface FunctionNodeData {
  label: string;
  parameters: string[];
  returnType?: string;
}

const FunctionNode: React.FC<{ data: FunctionNodeData }> = ({ data }) => {
  return (
    <div
      style={{
        padding: '10px',
        border: '2px solid #1a73e8',
        borderRadius: '8px',
        background: '#fff',
        minWidth: '150px',
      }}
    >
      <Handle type="target" position={Position.Top} />

      <div style={{ fontWeight: 'bold', marginBottom: '5px' }}>
        ğŸ“¦ {data.label}
      </div>

      <div style={{ fontSize: '12px', color: '#666' }}>
        ({data.parameters.join(', ')})
        {data.returnType && `: ${data.returnType}`}
      </div>

      <Handle type="source" position={Position.Bottom} />
    </div>
  );
};

export default FunctionNode;
```

---

## 6. Phase 1 å®Ÿè£…è¨ˆç”»

### 6.1 å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

#### Step 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ1æ—¥ï¼‰

- [ ] VSCodeæ‹¡å¼µæ©Ÿèƒ½ã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
- [ ] TypeScriptç’°å¢ƒæ§‹ç¯‰
- [ ] React WebViewç’°å¢ƒæ§‹ç¯‰ï¼ˆViteï¼‰
- [ ] é–‹ç™ºç”¨ã®launchè¨­å®š

#### Step 2: ã‚³ã‚¢è¨­è¨ˆå®Ÿè£…ï¼ˆ3-4æ—¥ï¼‰

- [ ] IParser ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
- [ ] ASTå‹å®šç¾©
- [ ] IRå‹å®šç¾©
- [ ] TypeScriptParserå®Ÿè£…ï¼ˆåŸºæœ¬çš„ãªé–¢æ•°ã¨ifæ–‡ã®ã¿ï¼‰
- [ ] IRTransformerå®Ÿè£…ï¼ˆåŸºæœ¬å¤‰æ›ï¼‰

#### Step 3: ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ2-3æ—¥ï¼‰

- [ ] FlowGeneratorå®Ÿè£…
- [ ] ç°¡æ˜“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆDagreä½¿ç”¨ï¼‰
- [ ] React FlowChart ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ï¼ˆFunction, Ifï¼‰

#### Step 4: VSCodeçµ±åˆï¼ˆ2æ—¥ï¼‰

- [ ] Visualizeã‚³ãƒãƒ³ãƒ‰å®Ÿè£…
- [ ] WebViewProviderå®Ÿè£…
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ï¼ˆExtension â†” WebViewï¼‰

#### Step 5: ãƒ†ã‚¹ãƒˆï¼†ãƒ‡ãƒãƒƒã‚°ï¼ˆ2æ—¥ï¼‰

- [ ] ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§å‹•ä½œç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### 6.2 MVPæ©Ÿèƒ½ãƒªã‚¹ãƒˆ

âœ… **ã‚µãƒãƒ¼ãƒˆã™ã‚‹æ§‹æ–‡ï¼ˆTypeScriptï¼‰**

- é–¢æ•°å®£è¨€ï¼ˆfunction, arrow functionï¼‰
- if/elseæ–‡
- for/while ãƒ«ãƒ¼ãƒ—
- å¤‰æ•°å®£è¨€
- returnæ–‡

âœ… **ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆè¦ç´ **

- é–‹å§‹/çµ‚äº†ãƒãƒ¼ãƒ‰
- ãƒ—ãƒ­ã‚»ã‚¹ãƒãƒ¼ãƒ‰ï¼ˆé–¢æ•°å®Ÿè¡Œï¼‰
- åˆ¤å®šãƒãƒ¼ãƒ‰ï¼ˆifæ–‡ï¼‰
- ãƒ«ãƒ¼ãƒ—ãƒãƒ¼ãƒ‰ï¼ˆfor/whileï¼‰

âœ… **UIæ©Ÿèƒ½**

- ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º
- ã‚ºãƒ¼ãƒ /ãƒ‘ãƒ³
- ãƒŸãƒ‹ãƒãƒƒãƒ—
- ãƒãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ

âŒ **Phase 1ã§ã¯å¯¾è±¡å¤–**

- åŒæ–¹å‘ç·¨é›†
- ã‚¯ãƒ©ã‚¹ã®è©³ç´°è§£æ
- è¤‡é›‘ãªå¼ã®è©•ä¾¡
- ä»–è¨€èªå¯¾å¿œ

---

## 7. é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 7.1 å¿…è¦ãªãƒ„ãƒ¼ãƒ«

```bash
# Node.js (v18+)
node --version

# VSCode Extensioné–‹ç™ºç”¨
npm install -g yo generator-code

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ
yo code
# â†’ New Extension (TypeScript) ã‚’é¸æŠ
```

### 7.2 ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

**Extensionå´ï¼ˆpackage.jsonï¼‰**

```json
{
  "dependencies": {
    "ts-morph": "^20.0.0"
  },
  "devDependencies": {
    "@types/vscode": "^1.85.0",
    "@types/node": "^20.0.0",
    "typescript": "^5.3.0",
    "esbuild": "^0.19.0"
  }
}
```

**WebView UIå´ï¼ˆwebview-ui/package.jsonï¼‰**

```json
{
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "reactflow": "^11.10.0",
    "dagre": "^0.8.5"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.2.0",
    "vite": "^5.0.0",
    "typescript": "^5.3.0"
  }
}
```

### 7.3 ãƒ“ãƒ«ãƒ‰æ§‹æˆ

```json
// tsconfig.json (Extension)
{
  "compilerOptions": {
    "module": "commonjs",
    "target": "ES2020",
    "outDir": "out",
    "lib": ["ES2020"],
    "sourceMap": true,
    "rootDir": "src",
    "strict": true,
    "esModuleInterop": true
  }
}
```

---

## 8. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### Phase 1å®Œäº†å¾Œã®æ‹¡å¼µï¼ˆPhase 2ï¼‰

1. **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ€§ã®è¿½åŠ **
   - ãƒãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ã§ã‚³ãƒ¼ãƒ‰ã¸ã‚¸ãƒ£ãƒ³ãƒ—
   - ã‚³ãƒ¼ãƒ‰ç·¨é›†æ™‚ã®è‡ªå‹•æ›´æ–°

2. **ã‚ˆã‚Šè¤‡é›‘ãªæ§‹æ–‡å¯¾å¿œ**
   - ã‚¯ãƒ©ã‚¹ã€ãƒ¡ã‚½ãƒƒãƒ‰
   - try-catch
   - switchæ–‡
   - éåŒæœŸå‡¦ç†ï¼ˆasync/awaitï¼‰

3. **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ”¹å–„**
   - ã‚ˆã‚Šæ´—ç·´ã•ã‚ŒãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
   - ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸè©³ç´°åº¦èª¿æ•´

### Phase 3: åŒæ–¹å‘ç·¨é›†

1. ãƒãƒ¼ãƒ‰ç·¨é›†ã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
2. AIçµ±åˆï¼ˆGemini APIï¼‰
3. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ

---

## 9. æŠ€è¡“çš„ãªèª²é¡Œã¨è§£æ±ºç­–

| èª²é¡Œ | è§£æ±ºç­– |
|------|--------|
| è¤‡é›‘ãªã‚³ãƒ¼ãƒ‰ã®è§£æç²¾åº¦ | ts-morphã®è©³ç´°ãªAPIã‚’æ´»ç”¨ã€æ®µéšçš„ã«ã‚µãƒãƒ¼ãƒˆæ‹¡å¤§ |
| ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æœ€é©åŒ– | Dagreãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã€å¾Œã§ç‹¬è‡ªå®Ÿè£… |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆå¤§è¦æ¨¡ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ | å·®åˆ†æ›´æ–°ã€é…å»¶èª­ã¿è¾¼ã¿ã€Web Workeræ´»ç”¨ |
| ä»–è¨€èªã¸ã®æ‹¡å¼µ | IParserã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§æŠ½è±¡åŒ–æ¸ˆã¿ |

---

ä»¥ä¸ŠãŒã€Prism Code Phase 1ã®è©³ç´°å®Ÿè£…è¨ˆç”»ã§ã™ã€‚
